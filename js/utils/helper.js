define(["require","exports","module"],function(e,t){function n(e){var t={startYear:2012,endYear:2013,acadYear:"2012/2013",semester:2},n=e.getFullYear(),r=e.getMonth()+1;return r<=5?(t.startYear=n-1,t.endYear=n,t.semester=2):r>=12?(t.startYear=n,t.endYear=n+1,t.semester=2):(t.startYear=n,t.endYear=n+1,t.semester=1),t.acadYear=t.startYear+"/"+t.endYear,t}function r(e){var t=e.getFullYear(),n=e.getMonth()+1,r=new Date,i=0;r.setMonth(0),r.setDate(1),n<=5||(n>=12?r.setMonth(0):r.setMonth(7));for(;;){if(r.getDay()===1)break;r.setDate(r.getDate()+1)}return r.setDate(r.getDate()+7),r}t.Semester=n(new Date),t.getSemester=function(e){return e?t.Semester:n(e)},t.WeekOneDate=r(new Date),t.getWeekOneDate=function(e){return e?r(e):t.WeekOneDate},t.getWeekOneDateOfWeekday=function(e,n){var i=$.inArray(e.toUpperCase(),planner.weekDays);return n=n?r(n):t.WeekOneDate,i<0?n:(n.setDate(n.getDate()+i),n)},t.getDateFormatted=function(e){var t=""+e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),r=("0"+e.getDate()).slice(-2),i=("0"+e.getHours()).slice(-2),s=("0"+e.getMinutes()).slice(-2);return r+"-"+n+"-"+t+" "+i+":"+s+":00"},t.getTimeIndex=function(e){return e=parseInt(e,10),2+(Math.floor(e/100)-8)*2+(e%100?1:0)}});